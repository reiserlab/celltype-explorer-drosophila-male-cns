<!doctype html><html lang=en><meta charset=UTF-8><meta content="width=device-width,initial-scale=1.0" name=viewport><title>Male CNS Cell Type Explorer v2.6 - IN03B086_a</title><link href=../static/css/plume-all.css rel=stylesheet><link href=../static/css/plume-theme-default.css rel=stylesheet><link href=../static/css/flexboxgrid.min.css rel=stylesheet><link href=../static/css/dataTables.dataTables.min.css rel=stylesheet><link href=../static/css/dataTables.bootstrap4.min.css rel=stylesheet><link href=../static/css/neuron-page.css rel=stylesheet><body class=plume id=top><div class=hamburger-menu id=hamburgerMenu><button aria-label="Jump to section menu" class=hamburger-btn id=hamburgerBtn><span class=hamburger-icon>‚ò∞</span></button><nav class=hamburger-dropdown id=hamburgerDropdown><div class=hamburger-title><a class=hamburger-link href=#top>IN03B086_a (R)</a></div><div class=soma-button-container><span class="soma-button soma-button-right soma-button-current" title="Current: Right">R</span><a class="soma-button soma-button-combined" title="Switch to Combined" href=IN03B086_a.html>C</a><a class="soma-button soma-button-left" title="Switch to Left" href=IN03B086_a_L.html>L</a></div><a class=hamburger-link href=#neuron-visualization>Neuron Visualization</a><a class=hamburger-link href=#roi-innervation>ROI Innervation</a><a class=hamburger-link href=#s-c>Connectivity</a></nav></div><div class=neuron-header-bar><div class="row center-md end-sm"><div class="col-md-3 col-md-offset-1 col-sm-12"><div class="row end-sm"><div class="col-md-4 col-sm-12"><a href=../index.html>Home</a></div><div class="col-md-4 col-sm-12"><a href=../types.html>Types List</a></div><div class="col-md-4 col-sm-12"><a href=../help.html>Help</a></div></div></div><div class="col-md-4 col-sm-12"><span class=brand id=cell-type-catalog>Male CNS Cell Type Explorer v2.6</span></div><div class="col-md-3 col-sm-12"><div class="row around-md center-md end-sm"><div class="col-md-6 col-sm-12"><form class=search-form><input placeholder="Search cell types ..." id=menulines style=display:inline></form></div><div class="col-md-2 col-sm-12"><a title="Open GitHub page in new tab" class=icon-link href=https://github.com/reiserlab/male-drosophila-visual-system-connectome-code target=_blank><svg viewbox="0 0 24 24" height=32 role=img width=32 xmlns=http://www.w3.org/2000/svg><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a></div><div class="col-md-2 col-sm-12"><a title="Open ReiserLab YouTube channel in new tab" class=icon-link href=https://www.youtube.com/@ReiserLab target=_blank><svg viewbox="0 0 24 24" height=32 role=img width=32 xmlns=http://www.w3.org/2000/svg><path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z" fill=#CC0000 /></svg></a></div><div class="col-md-2 col-sm-12"><a href="https://neuprint-cns.janelia.org/?dataset=cns" title="Open Male CNS dataset in neuPrint" class=nav-link target=_blank>neuPrint ‚ßâ</a></div></div></div></div></div><script src=../static/js/neuron-search.js></script><div class="soma-side-line soma-side-right"></div><div class=header-title><div class="title-container row"><div class=col-md-12><h1 id=top>IN03B086_a<span class=soma-side>(R)</span><a href="https://neuprint-cns.janelia.org/results?dataset=cns&qt=findneurons&qr[0][code]=fn&qr[0][ds]=cns&qr[0][pm][dataset]=cns&qr[0][pm][all_segments]=false&qr[0][pm][enable_contains]=true&qr[0][visProps][rowsPerPage]=50&tab=0&qr[0][pm][neuron_name]=IN03B086_a_R" title="Open IN03B086_a in new neuPrint window" class=external-link target=_blank>‚ßâ</a></h1></div></div></div><div class=container><section id=summary-stats><div class=row><div class="col-xs-12 col-sm-6 col-md-3"><div class=stat-card><div class=stat-number>3</div><div class=stat-label>Total Neurons</div><div style=color:#666;margin-top:5px;font-size:.8em>Right: 1 | Left: 2 <br><span title="log Ratio, negative numbers lean right, positive left"> log ratio </span>: 1.00</div></div></div><div class="col-xs-12 col-sm-6 col-md-3"><div class=stat-card><div class=stat-number>190</div><div class=stat-label>Total Synapses</div><div style=color:#666;margin-top:5px;font-size:.8em>Post: 76 | Pre: 114 <br><span title="Log Ratio negative numbers mean more input (post-synapses), positive numbers more output (pre-synapses)"> log ratio </span>: 0.58</div></div></div><div class="col-xs-12 col-sm-6 col-md-3"><div class=stat-card><div class=stat-number>190</div><div class=stat-label>Mean Synapses</div><div style=color:#666;margin-top:5px;font-size:.8em>Post: 76 | Pre: 114 <br><span title="Log Ratio negative numbers mean more input (post-synapses), positive numbers more output (pre-synapses)"> log ratio </span>: 0.58</div></div></div><div class="col-xs-12 col-sm-6 col-md-3"><div class=stat-card><div class=stat-number><abbr title=gaba>GABA</abbr></div><div class=stat-label>1 neurons (<abbr title="86.4% Confidence">86.4% CL</abbr>)</div></div></div></div></section><section id=neuron-visualization><div class=nv-header><h2>Neuron Visualization <a class="external-link neuroglancer-link" title="Open Neuroglancer in new window" href=# target=_blank>‚ßâ</a></h2><div class=nv-theme><span class="nv-theme-label nv-theme-label--left">Dark</span><span class=nv-switch> <input aria-label="Toggle theme: dark / light" class=nv-toggle-input id=nv-theme-toggle type=checkbox> <label aria-hidden=true class=nv-toggle for=nv-theme-toggle></label> </span><span class="nv-theme-label nv-theme-label--right">Light</span></div><div class=html-tooltip><div class=tooltip-content><h3>Navigation</h3><dl><dt>üñ±Ô∏è Left Mouse Button (LMB) + Drag<dd>Rotate the view.<dt>Shift + üñ±Ô∏è LMB + Drag<dd>Translate the view.<dt>Ctrl + Mousewheel<dd>Zoom in and out.<dt>‚å®Ô∏è <kbd>z</kbd><dd>Reset view to closest<dt>‚å®Ô∏è <kbd>o</kbd><dd>Toggle between orthographic and perspective projection.<dt>‚å®Ô∏è <kbd>l</kbd><dd>Reassign random colors to neurons and ROI meshes.</dl><h3>Filtering</h3><img alt="screenshot of neuroglancer filter section" src=../static/images/Neuroglancer-help.png><dl><dt style=color:#fff;background-color:#6e8fbe;border-radius:3px;padding:7px>1<dd>Use text to filter neurons by type name.<dt style=color:#fff;background-color:#6ed4be;border-radius:3px;padding:7px>2<dd>Use tags to require or exclude neurons of certain properties, e.g. `soma_side`.<dt style=color:#fff;background-color:#df8fbe;border-radius:3px;padding:7px>3<dd>Add / remove matched neurons from view.<dt style=color:#fff;background-color:#df8f3e;border-radius:3px;padding:7px>4<dd>Remove currently selected neurons from view.<dt style=color:#fff;background-color:#488f3e;border-radius:3px;padding:7px>5<dd>Toggle individual neurons from view.</dl></div><span class="pm-button-round pm-btn-success">?</span></div></div><div><iframe title="Neuroglancer Visualization" class=neuroglancer-iframe frameborder=0 height=720 src=about:blank width=100%><p>Your browser does not support iframes. Use the link above to open neuroglancer in a new window.</p></iframe></div></section><section id=roi-innervation><h2>ROI Innervation (5 ROIs)</h2><div class=data-table><table class=display id=roi-table><thead><tr><th>ROI Name<th class=pm-text-right><abbr title="Total Input">‚àë<br>In</abbr><th class=pm-text-right><abbr title="Percentage Input">%<br>In</abbr><th class=pm-text-right><abbr title="Ld of outputs/inputs ratio. Negative values indicate more inputs than outputs, positive values indicate more outputs than inputs.">log<br>ratio</abbr><th class=pm-text-right><abbr title="Total Output">‚àë<br>Out</abbr><th class=pm-text-right><abbr title="Percentage Output">%<br>Out</abbr><tbody><tr id=r0><td class=roi-cell data-roi-name=WTct(UTct-T2)(R)><strong><abbr title="Wing Tectulum in upper mesothoracic ganglion">WTct(UTct-T2)(R)</abbr></strong><td class=pm-text-right>8<td class="pm-text-right ug" style=--s:10.5% title=10.526315789473683%>10.5%<td class=pm-text-right title=ld(61/8)>2.93<td class=pm-text-right>61<td class="pm-text-right dg" style=--s:53.5% title=53.50877192982456%>53.5%<tr id=r1><td class=roi-cell data-roi-name=NTct(UTct-T1)(R)><strong><abbr title="Neck Tectulum in upper prothoracic ganglion">NTct(UTct-T1)(R)</abbr></strong><td class=pm-text-right>34<td class="pm-text-right ug" style=--s:44.7% title=44.73684210526316%>44.7%<td class=pm-text-right title=ld(10/34)>-1.77<td class=pm-text-right>10<td class="pm-text-right dg" style=--s:8.8% title=8.771929824561402%>8.8%<tr id=r2><td class=roi-cell data-roi-name=NTct(UTct-T1)(L)><strong><abbr title="Neck Tectulum in upper prothoracic ganglion">NTct(UTct-T1)(L)</abbr></strong><td class=pm-text-right>20<td class="pm-text-right ug" style=--s:26.3% title=26.31578947368421%>26.3%<td class=pm-text-right title=ld(10/20)>-1.00<td class=pm-text-right>10<td class="pm-text-right dg" style=--s:8.8% title=8.771929824561402%>8.8%<tr id=r3><td class=roi-cell data-roi-name=IntTct><strong><abbr title="Intermediate Tectulum">IntTct</abbr></strong><td class=pm-text-right>14<td class="pm-text-right ug" style=--s:18.4% title=18.421052631578945%>18.4%<td class=pm-text-right title=ld(13/14)>-0.11<td class=pm-text-right>13<td class="pm-text-right dg" style=--s:11.4% title=11.403508771929824%>11.4%<tr id=r4><td class=roi-cell data-roi-name=WTct(UTct-T2)(L)><strong><abbr title="Wing Tectulum in upper mesothoracic ganglion">WTct(UTct-T2)(L)</abbr></strong><td class=pm-text-right>0<td class="pm-text-right ug" style=--s:0.0% title=0.0%>0.0%<td class=pm-text-right title=ld(20/0)>inf<td class=pm-text-right>20<td class="pm-text-right dg" style=--s:17.5% title=17.543859649122805%>17.5%</table></div></section><section id=s-c><h2>Connectivity</h2><div class=row><div class="col-xs-12 col-md-6"><h3 title="Neuron types that provide input to IN03B086_a">Inputs</h3><div class=data-table><table class=display id=upstream-table><thead><tr><th>upstream<br>partner<th title="number of partner neurons">#<th title=neurotransmitter>NT<th title="total connections">‚àë<br>conns.<th title="connections per IN03B086_a"><span style="text-underline-offset:.4em;text-decoration:underline 2px #333">conns</span><br>IN03B086_a<th title="Percentage of Input">%<br>In<tbody><tr id=u0><td class=p-c data-body-ids=[36371]><a href=AN23B002_L.html#s-c>AN23B002 (L)</a><td>1<td><abbr title=acetylcholine>ACh</abbr><td>21<td>21<td class=ug style=--s:28.4% title=28.37838%>28.4%<tr id=u1><td class=p-c data-body-ids=[801711]><a href=IN02A013_R.html#s-c>IN02A013 (R)</a><td>1<td><abbr title=glutamate>Glu</abbr><td>15<td>15<td class=ug style=--s:20.3% title=20.27027%>20.3%<tr id=u2><td class=p-c data-body-ids=[801927]><a href=IN06A006_R.html#s-c>IN06A006 (R)</a><td>1<td><abbr title=gaba>GABA</abbr><td>7<td>7<td class=ug style=--s:9.5% title=9.45946%>9.5%<tr id=u3><td class=p-c data-body-ids=[903464]><a href=IN02A013_L.html#s-c>IN02A013 (L)</a><td>1<td><abbr title=glutamate>Glu</abbr><td>6<td>6<td class=ug style=--s:8.1% title=8.10811%>8.1%<tr id=u4><td class=p-c data-body-ids=[801043]><a href=IN02A007_L.html#s-c>IN02A007 (L)</a><td>1<td><abbr title=glutamate>Glu</abbr><td>5<td>5<td class=ug style=--s:6.8% title=6.75676%>6.8%<tr id=u5><td class=p-c data-body-ids=[800587]><a href=IN02A007_R.html#s-c>IN02A007 (R)</a><td>1<td><abbr title=glutamate>Glu</abbr><td>3<td>3<td class=ug style=--s:4.1% title=4.05405%>4.1%<tr id=u6><td class=p-c data-body-ids=[813127]><a href=IN03B081_R.html#s-c>IN03B081 (R)</a><td>2<td><abbr title=gaba>GABA</abbr><td>3<td>3<td class=ug style=--s:4.1% title=4.05405%>4.1%<tr id=u7><td class=p-c data-body-ids=[807273]><a href=IN03B086_b_R.html#s-c>IN03B086_b (R)</a><td>2<td><abbr title=gaba>GABA</abbr><td>3<td>3<td class=ug style=--s:4.1% title=4.05405%>4.1%<tr id=u8><td class=p-c data-body-ids=[926518]><a href=IN12B015_R.html#s-c>IN12B015 (R)</a><td>1<td><abbr title=gaba>GABA</abbr><td>2<td>2<td class=ug style=--s:2.7% title=2.70270%>2.7%<tr id=u9><td class=p-c data-body-ids=[817809]><a href=IN03B086_a_L.html#s-c>IN03B086_a (L)</a><td>1<td><abbr title=gaba>GABA</abbr><td>1<td>1<td class=ug style=--s:1.4% title=1.35135%>1.4%<tr id=u10><td class=p-c data-body-ids=[813584]><a href=IN06A075_L.html#s-c>IN06A075 (L)</a><td>1<td><abbr title=gaba>GABA</abbr><td>1<td>1<td class=ug style=--s:1.4% title=1.35135%>1.4%<tr id=u11><td class=p-c data-body-ids=[806825]><a href=IN00A047_M.html#s-c>IN00A047 (M)</a><td>1<td><abbr title=gaba>GABA</abbr><td>1<td>1<td class=ug style=--s:1.4% title=1.35135%>1.4%<tr id=u12><td class=p-c data-body-ids=[806481]><a href=IN07B047_R.html#s-c>IN07B047 (R)</a><td>1<td><abbr title=acetylcholine>ACh</abbr><td>1<td>1<td class=ug style=--s:1.4% title=1.35135%>1.4%<tr id=u13><td class=p-c data-body-ids=[806060]><a href=IN03B037_L.html#s-c>IN03B037 (L)</a><td>1<td><abbr title=acetylcholine>ACh</abbr><td>1<td>1<td class=ug style=--s:1.4% title=1.35135%>1.4%<tr id=u14><td class=p-c data-body-ids=[803955]><a href=IN12A018_L.html#s-c>IN12A018 (L)</a><td>1<td><abbr title=acetylcholine>ACh</abbr><td>1<td>1<td class=ug style=--s:1.4% title=1.35135%>1.4%<tr id=u15><td class=p-c data-body-ids=[800949]><a href=IN06B013_L.html#s-c>IN06B013 (L)</a><td>1<td><abbr title=gaba>GABA</abbr><td>1<td>1<td class=ug style=--s:1.4% title=1.35135%>1.4%<tr id=u16><td class=p-c data-body-ids=[800737]><a href=IN03B022_L.html#s-c>IN03B022 (L)</a><td>1<td><abbr title=gaba>GABA</abbr><td>1<td>1<td class=ug style=--s:1.4% title=1.35135%>1.4%<tr id=u17><td class=p-c data-body-ids=[204318]><a href=AN06A092_L.html#s-c>AN06A092 (L)</a><td>1<td><abbr title=gaba>GABA</abbr><td>1<td>1<td class=ug style=--s:1.4% title=1.35135%>1.4%</table></div></div><div class="col-xs-12 col-md-6"><h3 tite="Neuron types that receive output from IN03B086_a">Outputs</h3><div class=data-table><table class=display id=downstream-table><thead><tr><th>downstream<br>partner<th title="number of partner neurons">#<th title=neurotransmitter>NT<th title="total connections">‚àë<br>conns.<th title="connections perIN03B086_a"><span style="text-underline-offset:.4em;text-decoration:underline 2px #333">conns</span><br>IN03B086_a<th title="Percentage of Input">%<br>Out<tbody><tr id=d0><td class=p-c data-body-ids=[802544]><a href=DLMn_c-f_R.html#s-c>DLMn c-f (R)</a><td>4<td><abbr title=unclear>unc</abbr><td>140<td>140<td class=dg style=--s:39.5% title=39.54802%>39.5%<tr id=d1><td class=p-c data-body-ids=[803013]><a href=DLMn_c-f_L.html#s-c>DLMn c-f (L)</a><td>4<td><abbr title=unclear>unc</abbr><td>80<td>80<td class=dg style=--s:22.6% title=22.59887%>22.6%<tr id=d2><td class=p-c data-body-ids=[801970]><a href=DLMn_a,_b_L.html#s-c>DLMn a, b (L)</a><td>1<td><abbr title=unclear>unc</abbr><td>60<td>60<td class=dg style=--s:16.9% title=16.94915%>16.9%<tr id=d3><td class=p-c data-body-ids=[801295]><a href=DLMn_a,_b_R.html#s-c>DLMn a, b (R)</a><td>1<td><abbr title=unclear>unc</abbr><td>51<td>51<td class=dg style=--s:14.4% title=14.40678%>14.4%<tr id=d4><td class=p-c data-body-ids=[801185]><a href=tpn_MN_L.html#s-c>tpn MN (L)</a><td>1<td><abbr title=unclear>unc</abbr><td>4<td>4<td class=dg style=--s:1.1% title=1.12994%>1.1%<tr id=d5><td class=p-c data-body-ids=[806060]><a href=IN03B037_L.html#s-c>IN03B037 (L)</a><td>1<td><abbr title=acetylcholine>ACh</abbr><td>2<td>2<td class=dg style=--s:0.6% title=0.56497%>0.6%<tr id=d6><td class=p-c data-body-ids=[805934]><a href=IN12A043_a_L.html#s-c>IN12A043_a (L)</a><td>1<td><abbr title=acetylcholine>ACh</abbr><td>2<td>2<td class=dg style=--s:0.6% title=0.56497%>0.6%<tr id=d7><td class=p-c data-body-ids=[803955]><a href=IN12A018_L.html#s-c>IN12A018 (L)</a><td>1<td><abbr title=acetylcholine>ACh</abbr><td>2<td>2<td class=dg style=--s:0.6% title=0.56497%>0.6%<tr id=d8><td class=p-c data-body-ids=[803129]><a href=DVMn_1a-c_R.html#s-c>DVMn 1a-c (R)</a><td>1<td><abbr title=unclear>unc</abbr><td>2<td>2<td class=dg style=--s:0.6% title=0.56497%>0.6%<tr id=d9><td class=p-c data-body-ids=[801815]><a href=tpn_MN_R.html#s-c>tpn MN (R)</a><td>1<td><abbr title=unclear>unc</abbr><td>2<td>2<td class=dg style=--s:0.6% title=0.56497%>0.6%<tr id=d10><td class=p-c data-body-ids=[904933]><a href=IN11A028_R.html#s-c>IN11A028 (R)</a><td>1<td><abbr title=acetylcholine>ACh</abbr><td>1<td>1<td class=dg style=--s:0.3% title=0.28249%>0.3%<tr id=d11><td class=p-c data-body-ids=[904800]><a href=INXXX023_L.html#s-c>INXXX023 (L)</a><td>1<td><abbr title=acetylcholine>ACh</abbr><td>1<td>1<td class=dg style=--s:0.3% title=0.28249%>0.3%<tr id=d12><td class=p-c data-body-ids=[817809]><a href=IN03B086_a_L.html#s-c>IN03B086_a (L)</a><td>1<td><abbr title=gaba>GABA</abbr><td>1<td>1<td class=dg style=--s:0.3% title=0.28249%>0.3%<tr id=d13><td class=p-c data-body-ids=[810188]><a href=IN19B075_R.html#s-c>IN19B075 (R)</a><td>1<td><abbr title=acetylcholine>ACh</abbr><td>1<td>1<td class=dg style=--s:0.3% title=0.28249%>0.3%<tr id=d14><td class=p-c data-body-ids=[807273]><a href=IN03B086_b_R.html#s-c>IN03B086_b (R)</a><td>1<td><abbr title=gaba>GABA</abbr><td>1<td>1<td class=dg style=--s:0.3% title=0.28249%>0.3%<tr id=d15><td class=p-c data-body-ids=[803023]><a href=IN19B043_L.html#s-c>IN19B043 (L)</a><td>1<td><abbr title=acetylcholine>ACh</abbr><td>1<td>1<td class=dg style=--s:0.3% title=0.28249%>0.3%<tr id=d16><td class=p-c data-body-ids=[800412]><a href=DVMn_1a-c_L.html#s-c>DVMn 1a-c (L)</a><td>1<td><abbr title=unclear>unc</abbr><td>1<td>1<td class=dg style=--s:0.3% title=0.28249%>0.3%<tr id=d17><td class=p-c data-body-ids=[535011]><a href=AN06A041_L.html#s-c>AN06A041 (L)</a><td>1<td><abbr title=gaba>GABA</abbr><td>1<td>1<td class=dg style=--s:0.3% title=0.28249%>0.3%<tr id=d18><td class=p-c data-body-ids=[10924]><a href=DNa04_R.html#s-c>DNa04 (R)</a><td>1<td><abbr title=acetylcholine>ACh</abbr><td>1<td>1<td class=dg style=--s:0.3% title=0.28249%>0.3%</table></div></div></div></section></div><footer><div class=container><p>Generated on 2025-09-30 00:12 ‚Ä¢ Dataset: cns ‚Ä¢ Server: neuprint-cns.janelia.org</div></footer><script src=../static/js/jquery-3.7.1.min.js></script><script src=../static/js/jquery.dataTables.min.js></script><script src=../static/js/neuroglancer-url-generator.js></script><script src=../static/js/neuron-page.js></script><script>$(document).ready(function() {
    const neuroglancerData = {
        websiteTitle: "IN03B086_a",
        visibleNeurons: ["818227"],
        neuronQuery: "IN03B086_a",
        visibleRois: [],
        region: "VNC"
    };

    initializeNeuroglancerLinks(neuroglancerData);

    var roiInputPreciseData = [10.52632, 44.73684, 26.31579, 18.42105, 0.0];
    var roiOutputPreciseData = [53.50877, 8.77193, 8.77193, 11.40351, 17.54386];

    var upstreamPreciseData = [28.37838, 20.27027, 9.45946, 8.10811, 6.75676, 4.05405, 4.05405, 4.05405, 2.7027, 1.35135, 1.35135, 1.35135, 1.35135, 1.35135, 1.35135, 1.35135, 1.35135, 1.35135];

    var downstreamPreciseData = [39.54802, 22.59887, 16.94915, 14.40678, 1.12994, 0.56497, 0.56497, 0.56497, 0.56497, 0.56497, 0.28249, 0.28249, 0.28249, 0.28249, 0.28249, 0.28249, 0.28249, 0.28249, 0.28249];

    $.fn.dataTable.ext.search.push(createROIPercentageFilter('roi-table'));

    var roiTable = $('#roi-table').DataTable({
        "order": [[ 1, "desc" ]],         "pageLength": -1,         "paging": false,         "responsive": true,
        "layout": {
          "topStart": "search",
          "topEnd": $(createROIPercentageSliderInHeader('roi-table'))
        },
        "language": {
            "search": "",
            "searchPlaceholder": "Filter",
            "info": "Filter for _TOTAL_ of _MAX_ ROIs innervated by IN03B086_a",
            "infoEmpty": "None of the _MAX_ ROI regions innervated by IN03B086_a match filter",
            "infoFiltered": ""
        },
        "columnDefs": [
            {
                "targets": 2,                 "type": "num-fmt",
                "render": function(data, type, row) {
                    if (type === 'display') {
                        return data;
                    }
                    return parseFloat(data.replace('%', '')) || 0;
                }
            },
            {
                "targets": 5,                 "type": "num-fmt",
                "render": function(data, type, row) {
                    if (type === 'display') {
                        return data;
                    }
                    return parseFloat(data.replace('%', '')) || 0;
                }
            }
        ],
        "drawCallback": function(settings) {
            calculateCumulativePercentages(this.api(), 2, roiInputPreciseData);             calculateCumulativePercentages(this.api(), 5, roiOutputPreciseData);         },
        "initComplete": function(settings, json) {
            setupROIPercentageSlider('roi-percentage-slider', 'roi-slider-value', this.api());
        }
    });

    $.fn.dataTable.ext.search.push(createConnectionsFilter('upstream-table', 3));

    var upstreamTable = $('#upstream-table').DataTable({
        "order": [[ 3, "desc" ]],         "pageLength": -1,         "paging": false,         "responsive": true,
        "layout":{
          "topStart": "search",
          "topEnd": $(createConnectionsSliderInHeader('upstream-table', 'IN03B086_a'))
        },
        "language": {
            "search": "",
            "searchPlaceholder": "Filter",
            "info": "Filter for _TOTAL_ of _MAX_ input neuron types to IN03B086_a",
            "infoEmpty": "None of the _MAX_ input neuron types to IN03B086_a match filter",
            "infoFiltered": ""
        },
        "columnDefs": [
            {
                "targets": 4,                 "type": "num-fmt",
                "render": function(data, type, row) {
                    if (type === 'display') {
                        return data;
                    }
                    return parseFloat(data.replace('%', '')) || 0;
                }
            }
        ],
        "drawCallback": function(settings) {
            calculateCumulativePercentages(this.api(), 5, upstreamPreciseData);

        },
        "initComplete": function(settings, json) {
            setupConnectionsSlider('upstream-connections-slider', 'upstream-slider-value', this.api());
        }
    });

    $.fn.dataTable.ext.search.push(createConnectionsFilter('downstream-table', 3));

    var downstreamTable = $('#downstream-table').DataTable({
        "order": [[ 3, "desc" ]],         "pageLength": -1,         "paging": false,         "responsive": true,
        "layout": {
            "topStart": "search",
            "topEnd": $(createConnectionsSliderInHeader('downstream-table', 'IN03B086_a'))
        },
        "language": {
            "search": "",
            "searchPlaceholder": "Filter",
            "info": "Filter for _TOTAL_ of _MAX_ output neuron types to IN03B086_a",
            "infoEmpty": "None of the _MAX_ output neuron types to IN03B086_a match filter",
            "infoFiltered": ""
        },
        "columnDefs": [
            {
                "targets": 4,                 "type": "num-fmt",
                "render": function(data, type, row) {
                    if (type === 'display') {
                        return data;
                    }
                    return parseFloat(data.replace('%', '')) || 0;
                }
            }
        ],
        "drawCallback": function(settings) {
            calculateCumulativePercentages(this.api(), 5, downstreamPreciseData);
        },
        "initComplete": function(settings, json) {
            setupConnectionsSlider('downstream-connections-slider', 'downstream-slider-value', this.api());
        }
    });

    initializeAllTooltips();
});

document.addEventListener('DOMContentLoaded', () => {
  const section = document.getElementById('neuron-visualization');
  const input   = document.getElementById('nv-theme-toggle');

  const saved = localStorage.getItem('nvTheme') ||
                (window.matchMedia && matchMedia('(prefers-color-scheme: light)').matches ? 'light' : 'dark');

  section.setAttribute('data-theme', saved);
  input.checked = (saved === 'light');

  input.addEventListener('change', () => {
    const mode = input.checked ? 'light' : 'dark';
    section.setAttribute('data-theme', mode);
    localStorage.setItem('nvTheme', mode);
  });
});</script>