<!doctype html><html lang=en><meta charset=UTF-8><meta content="width=device-width,initial-scale=1.0" name=viewport><title>Male CNS – Cell Type Explorer - Home</title><link href=static/css/plume-all.css rel=stylesheet><link href=static/css/plume-theme-default.css rel=stylesheet><link href=static/css/flexboxgrid.min.css rel=stylesheet><link href=static/css/dataTables.dataTables.min.css rel=stylesheet><link href=static/css/dataTables.bootstrap4.min.css rel=stylesheet><link href=static/css/neuron-page.css rel=stylesheet><body class=plume id=top><div class=neuron-header-bar><div class="row center-md end-sm"><div class="col-md-3 col-md-offset-1 col-sm-12"><div class="row end-sm"><div class="col-md-4 col-sm-12"><a href=index.html>Home</a></div><div class="col-md-4 col-sm-12"><a href=types.html>Types List</a></div><div class="col-md-4 col-sm-12"><a href=help.html>Help</a></div></div></div><div class="col-md-4 col-sm-12"><span class=brand id=cell-type-catalog>Male CNS – Cell Type Explorer</span></div><div class="col-md-3 col-sm-12"><div class="row around-md center-md end-sm"><div class="col-md-6 col-sm-12"><form class=search-form><input placeholder="Search cell types ..." id=menulines style=display:inline></form></div><div class="col-md-2 col-sm-12"><a title="Open GitHub page in new tab" class=icon-link href=https://github.com/reiserlab/male-drosophila-visual-system-connectome-code target=_blank><svg viewbox="0 0 24 24" height=32 role=img width=32 xmlns=http://www.w3.org/2000/svg><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a></div><div class="col-md-2 col-sm-12"><a title="Open ReiserLab YouTube channel in new tab" class=icon-link href=https://www.youtube.com/@ReiserLab target=_blank><svg viewbox="0 0 24 24" height=32 role=img width=32 xmlns=http://www.w3.org/2000/svg><path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z" fill=#CC0000 /></svg></a></div><div class="col-md-2 col-sm-12"><a href="https://neuprint-cns.janelia.org/?dataset=male-cns:v0.9" title="Open Male CNS dataset in neuPrint" class=nav-link target=_blank>neuPrint ⧉</a></div></div></div></div></div><script src=static/js/neuron-search.js></script><div class=container><div class=container><div class=row><div class=col-xs-12><div class=landing-page><div class=hero-section><h1>Male CNS – Cell Type Explorer</h1><p class=lead>Comprehensive neuron type catalog for the MALE-CNS:V0.9 dataset<div class=stats-overview><div class=stat-item><span class=stat-number>11,732</span><span class=stat-label>Neuron Types</span></div><div class=stat-item><span class=stat-number>164,825</span><span class=stat-label>Neurons</span></div><div class=stat-item><span class=stat-number>171,834,823</span><span class=stat-label>Synapses</span></div></div><div class=action-buttons><a class="btn btn-secondary btn-large" href=types.html> Browse All Types </a><a class="btn btn-secondary btn-large" href=help.html> Learn How to Use </a></div></div><div class=quick-search-section><h2>Quick Search</h2><p>Start typing a neuron type name to quickly navigate:<form class=search-form-large><div class=quick-search-container><input placeholder="Search for neuron types (e.g., T4, Mi1, LC10)..." id=landing-search></div></form></div><div class=dataset-info><h2>About This Dataset</h2><p>This Cell Type Catalog presents a comprehensive view of neuron types from the <strong>MALE-CNS:V0.9</strong> connectome dataset. For each neuron type in the dataset, we show morphological information, connectivity patterns, and spatial distributions.<p>Data represents a temporal snapshot generated on 2025-10-01 21:48 from <a href="https://neuprint-cns.janelia.org/?dataset=male-cns:v0.9" target=_blank>neuPrint</a>.<p class=pm-text-light>At the time, the MALE-CNS:V0.9 dataset at neuprint-cns.janelia.org was at version Unknown and had the last update at Unknown.</div></div></div></div></div><style>.landing-page{max-width:1200px;margin:0 auto;padding:2rem 1rem}.hero-section{text-align:center;color:#fff;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);border-radius:8px;margin-bottom:3rem;padding:3rem 0}.hero-section h1{margin-bottom:1rem;font-size:3rem;font-weight:300}.hero-section .lead{opacity:.9;margin-bottom:2rem;font-size:1.25rem}.stats-overview{margin:2rem 0}.stat-item{margin:0 2rem;display:inline-block}.stat-number{font-size:2.5rem;font-weight:700;line-height:1;display:block}.stat-label{opacity:.8;text-transform:uppercase;letter-spacing:.5px;font-size:.9rem;display:block}.action-buttons{margin-top:2rem}.btn{cursor:pointer;border:none;border-radius:4px;margin:0 .5rem;padding:.75rem 2rem;font-weight:500;text-decoration:none;transition:all .3s;display:inline-block}.btn-large{padding:1rem 2.5rem;font-size:1.1rem}.btn-primary{color:#fff;background-color:#28a745}.btn-primary:hover{background-color:#218838;transform:translateY(-2px);box-shadow:0 4px 8px #28a7454d}.btn-secondary{color:#fff;background-color:#0000;border:2px solid #fff}.btn-secondary:hover{color:#667eea;background-color:#fff;transform:translateY(-2px)}.feature-highlights{margin:4rem 0}.feature-card{text-align:center;background:#f8f9fa;border-radius:8px;height:100%;padding:2rem;transition:transform .3s}.feature-card:hover{transform:translateY(-5px);box-shadow:0 10px 25px #0000001a}.feature-card h3{color:#333;margin-bottom:1rem}.feature-card p{color:#666;line-height:1.6}.quick-search-section{text-align:center;background:#f8f9fa;border-radius:8px;margin:3rem 0;padding:3rem}.quick-search-section h2{color:#333;margin-bottom:1rem}.search-form-large{max-width:600px;margin:0 auto}.quick-search-container{position:relative}.search-form-large input{border:2px solid #dee2e6;border-radius:6px;width:100%;padding:1rem;font-size:1.1rem;transition:border-color .3s}.search-form-large input:focus{border-color:#667eea;outline:none;box-shadow:0 0 0 3px #667eea1a}.dataset-info{background:#fff;border:1px solid #e9ecef;border-radius:8px;margin:3rem 0;padding:3rem}.dataset-info h2{color:#333;margin-bottom:1.5rem}.dataset-info p{color:#666;margin-bottom:1rem;line-height:1.7}.dataset-info a{color:#667eea;text-decoration:none}.dataset-info a:hover{text-decoration:underline}@media (width<=768px){.hero-section{padding:2rem 1rem}.hero-section h1{font-size:2rem}.stat-item{margin:1rem 0;display:block}.btn{margin:.5rem 0;display:block}.feature-card{margin-bottom:2rem}.quick-search-section,.dataset-info{padding:2rem 1rem}}</style><script>document.addEventListener('DOMContentLoaded', function() {
    const landingSearch = document.getElementById('landing-search');

    if (!landingSearch) return;

    setTimeout(() => {
        if (typeof NEURON_DATA !== 'undefined') {
            new QuickNeuronSearch('landing-search');
        }
    }, 100);
});

class QuickNeuronSearch {
    constructor(inputId) {
        this.inputElement = document.getElementById(inputId);
        this.neuronTypes = typeof NEURON_TYPES_DATA !== 'undefined' ? NEURON_TYPES_DATA : [];
        this.neuronData = typeof NEURON_DATA !== 'undefined' ? NEURON_DATA : [];
        this.filteredTypes = [];
        this.currentIndex = -1;
        this.isDropdownVisible = false;
        this.clickingDropdown = false;

        this.dropdown = this.createDropdown();

        this.init();
    }

    init() {
        if (!this.inputElement) {
            return;
        }

        this.setupEventListeners();
    }

    createDropdown() {
        const dropdown = document.createElement("div");
        dropdown.className = "neuron-search-dropdown";
        dropdown.style.cssText = `
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: white;
            border: 1px solid #ddd;
            border-top: none;
            border-radius: 0 0 4px 4px;
            max-height: 200px;
            overflow-y: auto;
            z-index: 1000;
            display: none;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        `;

        const parent = this.inputElement.parentNode;
        parent.style.position = "relative";
        parent.appendChild(dropdown);

        return dropdown;
    }

    setupEventListeners() {
        this.inputElement.addEventListener("input", (e) => {
            this.handleInput(e.target.value);
        });

        this.inputElement.addEventListener("keydown", (e) => {
            this.handleKeyDown(e);
        });

        this.inputElement.addEventListener("focus", () => {
            if (this.inputElement.value.trim()) {
                this.showDropdown();
            }
        });

        this.inputElement.addEventListener("blur", () => {
            if (!this.clickingDropdown) {
                setTimeout(() => this.hideDropdown(), 150);
            }
        });

        document.addEventListener("click", (e) => {
            if (!this.inputElement.contains(e.target) && !this.dropdown.contains(e.target)) {
                this.hideDropdown();
            }
        });
    }

    handleInput(value) {
        const query = value.trim().toLowerCase();

        if (query.length < 2) {
            this.hideDropdown();
            return;
        }

        this.filteredTypes = this.neuronTypes.filter(type => {
            if (type.toLowerCase().includes(query)) {
                return true;
            }

            const neuronEntry = this.neuronData.find(entry => entry.name === type);
            if (neuronEntry) {
                if (neuronEntry.synonyms) {
                    const synonymsLower = neuronEntry.synonyms.toLowerCase();
                    if (synonymsLower.includes(query)) {
                        return true;
                    }
                    const synonyms = synonymsLower.split(';').map(s => s.trim());
                    for (const synonym of synonyms) {
                        const colonIndex = synonym.indexOf(':');
                        if (colonIndex !== -1) {
                            const nameAfterColon = synonym.substring(colonIndex + 1).trim();
                            if (nameAfterColon.includes(query)) {
                                return true;
                            }
                        }
                    }
                }

                if (neuronEntry.flywire_types && neuronEntry.flywire_types.toLowerCase().includes(query)) {
                    return true;
                }
            }

            return false;
        });

        this.filteredTypes.sort((a, b) => {
            const aLower = a.toLowerCase();
            const bLower = b.toLowerCase();

            if (aLower === query) return -1;
            if (bLower === query) return 1;

            if (aLower.startsWith(query) && !bLower.startsWith(query)) return -1;
            if (bLower.startsWith(query) && !aLower.startsWith(query)) return 1;

            return a.localeCompare(b);
        });

        this.filteredTypes = this.filteredTypes.slice(0, 10);

        this.currentIndex = -1;
        this.updateDropdown();
        this.showDropdown();
    }

    handleKeyDown(e) {
        if (!this.isDropdownVisible) {
            return;
        }

        switch (e.key) {
            case "ArrowDown":
                e.preventDefault();
                this.currentIndex = Math.min(this.currentIndex + 1, this.filteredTypes.length - 1);
                this.updateHighlight();
                break;

            case "ArrowUp":
                e.preventDefault();
                this.currentIndex = Math.max(this.currentIndex - 1, -1);
                this.updateHighlight();
                break;

            case "Enter":
                e.preventDefault();
                if (this.currentIndex >= 0 && this.currentIndex < this.filteredTypes.length) {
                    this.selectNeuronType(this.filteredTypes[this.currentIndex]);
                } else if (this.filteredTypes.length > 0) {
                    this.selectNeuronType(this.filteredTypes[0]);
                }
                break;

            case "Escape":
                this.hideDropdown();
                this.inputElement.blur();
                break;
        }
    }

    updateDropdown() {
        this.dropdown.innerHTML = "";

        if (this.filteredTypes.length === 0) {
            const noResults = document.createElement("div");
            noResults.textContent = "No matching neuron types found";
            noResults.style.cssText = `
                padding: 8px 12px;
                color: #666;
                font-style: italic;
            `;
            this.dropdown.appendChild(noResults);
            return;
        }

        this.filteredTypes.forEach((type, index) => {
            const item = document.createElement("div");
            item.className = "neuron-search-item";
            item.style.cssText = `
                padding: 8px 12px;
                cursor: pointer;
                border-bottom: 1px solid #eee;
                transition: background-color 0.2s;
            `;

            const neuronEntry = this.neuronData.find(entry => entry.name === type);

            const nameSpan = document.createElement('span');
            nameSpan.className = 'neuron-name';
            nameSpan.style.cssText = `
                color: inherit;
                cursor: pointer;
            `;

            const query = this.inputElement.value.trim().toLowerCase();
            if (query) {
                const regex = new RegExp(`(${this.escapeRegExp(query)})`, "gi");
                nameSpan.innerHTML = type.replace(regex, "<strong>$1</strong>");
            } else {
                nameSpan.textContent = type;
            }

            item.appendChild(nameSpan);

            if (neuronEntry && neuronEntry.urls) {
                const sides = [];
                if (neuronEntry.urls.right) sides.push({ label: 'R', side: 'right' });
                if (neuronEntry.urls.middle) sides.push({ label: 'M', side: 'middle' });
                if (neuronEntry.urls.left) sides.push({ label: 'L', side: 'left' });
                if (neuronEntry.urls.combined && sides.length === 0) sides.push({ label: 'Combined', side: 'combined' });

                if (sides.length > 0) {
                    const sidesContainer = document.createElement('span');
                    sidesContainer.textContent = ' (';
                    sidesContainer.style.color = '#666';

                    sides.forEach((sideInfo, index) => {
                        if (index > 0) {
                            const separator = document.createElement('span');
                            separator.textContent = ', ';
                            separator.style.color = '#666';
                            sidesContainer.appendChild(separator);
                        }

                        const sideLink = document.createElement('a');
                        sideLink.textContent = sideInfo.label;
                        sideLink.href = neuronEntry.urls[sideInfo.side] || '#';
                        sideLink.className = 'side-link';
                        sideLink.style.cssText = `
                            color: #0066cc;
                            text-decoration: none;
                            cursor: pointer;
                            font-size: 0.9em;
                        `;

                        sideLink.addEventListener('mouseenter', () => {
                            sideLink.style.textDecoration = 'underline';
                        });
                        sideLink.addEventListener('mouseleave', () => {
                            sideLink.style.textDecoration = 'none';
                        });

                        sideLink.addEventListener('mousedown', (e) => {
                            e.preventDefault();
                            e.stopPropagation();
                            window.location.href = neuronEntry.urls[sideInfo.side];
                        });

                        sideLink.addEventListener('click', (e) => {
                            e.preventDefault();
                            e.stopPropagation();
                        });

                        sidesContainer.appendChild(sideLink);
                    });

                    const closeParen = document.createElement('span');
                    closeParen.textContent = ')';
                    closeParen.style.color = '#666';
                    sidesContainer.appendChild(closeParen);

                    item.appendChild(sidesContainer);
                }
            }

            item.addEventListener("mousedown", (e) => {
                if (!e.target.classList.contains('side-link')) {
                    e.preventDefault(); // Prevent input blur
                    this.clickingDropdown = true;
                } else {
                    return;
                }
            });

            item.addEventListener("click", (e) => {
                if (!e.target.classList.contains('side-link')) {
                    e.preventDefault();
                    e.stopPropagation();
                    this.selectNeuronType(type);
                    this.clickingDropdown = false;
                } else {
                    return true;
                }
            });

            item.addEventListener("mouseenter", () => {
                this.currentIndex = index;
                this.updateHighlight();
            });

            this.dropdown.appendChild(item);
        });
    }

    escapeRegExp(string) {
        return string.replace(/[.*+?^${}()|[\]\\]/g, "\\$&");
    }

    updateHighlight() {
        const items = this.dropdown.querySelectorAll(".neuron-search-item");
        items.forEach((item, index) => {
            if (index === this.currentIndex) {
                item.style.backgroundColor = "#f0f8ff";
                item.style.color = "#0066cc";
            } else {
                item.style.backgroundColor = "";
                item.style.color = "";
            }
        });
    }

    selectNeuronType(type) {
        this.inputElement.value = type;
        this.hideDropdown();

        this.navigateToNeuronType(type);
    }

    navigateToSomaSide(neuronType, side) {
        const neuronEntry = this.neuronData.find(entry => entry.name === neuronType);

        if (neuronEntry && neuronEntry.urls[side]) {
            this.inputElement.value = neuronType;
            this.hideDropdown();
            window.location.href = neuronEntry.urls[side];
        } else {
            this.navigateToNeuronType(neuronType);
        }
    }

    navigateToNeuronType(neuronType) {
        const neuronEntry = this.neuronData.find(entry => entry.name === neuronType);

        if (neuronEntry && neuronEntry.primary_url) {
            window.location.href = neuronEntry.primary_url;
        } else {
            this.navigateToNeuronTypeWithDetection(neuronType);
        }
    }

    async navigateToNeuronTypeWithDetection(neuronType) {
        const possibleFilenames = [
            `types/${neuronType}.html`,
            `types/${neuronType}_B.html`,
            `types/${neuronType}_L.html`,
            `types/${neuronType}_R.html`,
            `types/${neuronType}_M.html`
        ];

        for (const filename of possibleFilenames) {
            try {
                const response = await fetch(filename, { method: 'HEAD' });
                if (response.ok) {
                    window.location.href = filename;
                    return;
                }
            } catch (error) {
            }
        }

        window.location.href = `types/${neuronType}.html`;
    }

    showDropdown() {
        if (this.filteredTypes.length > 0 || this.inputElement.value.trim().length >= 2) {
            this.dropdown.style.display = "block";
            this.isDropdownVisible = true;
        }
    }

    hideDropdown() {
        this.dropdown.style.display = "none";
        this.isDropdownVisible = false;
        this.clickingDropdown = false;
    }
}</script></div><footer><div class=container><p>Generated on 2025-10-01 21:48 • Dataset: male-cns:v0.9 • Server: neuprint-cns.janelia.org • Generated via quickpage v2.7</div></footer>